# yandex2018

# Задача 1. Ошибка

Вы обслуживаете сайт и отслеживаете возникающие проблемы. Клиент получил ошибку после того, как попытался добавить свой пост в систему. Вы хотите понять на каком из серверов эта ошибка произошла.

Есть n серверов, на i-й из них приходится ai процентов запросов, из которых bi процентов завершаются с ошибкой. Для каждого сервера найдите вероятность того, что ошибка произошла именно на нём.

**Формат ввода**

В первой строке входного файла содержится одно целое число n (1 ≤n≤ 100) — количество серверов.

В каждой из следующих n строк содержится два целых числа ai bi (0 ≤ ai, bi ≤ 100) — вероятность того что запрос пойдет на i-й сервер в процентах и вероятность того что на i-м сервере случится ошибка в процентах.

Гарантируется, что сумма всех ai равна 100 и ошибка в системе может произойти.

**Формат вывода**

Выведите n строк. В каждой строке должно находиться одно вещественное число (0 ≤ pi ≤ 1) — вероятность, что ошибка произошла на соответствующем сервере.

Абсолютная или относительная погрешность каждого из ответов не должна превышать 10^9.

**Пример 1.**

**Ввод**
```
2
50 1
50 2
```
**Вывод**
```
0.333333333333
0.666666666667
```
**Пример 2.**

**Ввод**
```
3
10 100
30 10
60 2
```
**Вывод**
```
0.704225352113
0.211267605634
0.084507042254
```
# Задача 2. Встречи

Чтобы не мешать коллегам на рабочем месте громкими обсуждениями, ребята назначают встречи на определенное время и бронируют переговорки. При бронировании нужно указать дату и время встречи, её длительность и список участников. Если у кого-то из участников получается две встречи в один и тот же момент времени, то в бронировании будет отказано с указанием списка людей, у которых время встречи пересекается с другими встречами. Вам необходимо реализовать прототип такой системы.

**Формат ввода**

В первой строке входного файла содержится одно число n (1 ≤ n ≤ 1000) — число запросов.

В следующих n строках содержатся запросы по одному в строке. Запросы бывают двух типов:
```
APPOINT day time duration k names1 names2… namesk
PRINT day name
day — номер дня в 2018 году (1 ≤ day ≤ 365)
time — время встречи, строка в формате HH:MM (08 ≤ HH ≤ 21, 00 ≤ MM ≤ 59)
duration — длительность встречи в минутах (15 ≤ duration ≤ 120)
k — число участников встречи (1 ≤ k ≤ 10)
namesi, name — имена участников, строки, состоящие из маленьких латинских букв (1 ≤ |name| ≤ 20). У всех коллег уникальные имена. Кроме того гарантируется, что среди участников одной встречи ни одно имя не встречается дважды.
```

**Формат вывода**

Если удалось назначить встречу (первый тип запросов), выведите OK.

Иначе выведите в первой строке FAIL, а в следующей строке через пробел список имен участников, для которых время встречи пересекается с другими встречами, в том порядке, в котором имена были даны в запросе.

Для второго типа запросов выведите для данного дня и участника список всех событий на данный момент в этот день в хронологическом порядке, по одному в строке, в формате
```
HH:MM duration names1 names2 … namesk
```
где имена участников следуют в том же порядке, что и в исходном описании встречи. Если событий в данный день для этого человека нет, то ничего выводить не нужно.

**Пример 1.**

**Ввод**
```
7
APPOINT 1 12:30 30 2 andrey alex
APPOINT 1 12:00 30 2 alex sergey
APPOINT 1 12:59 60 2 alex andrey
PRINT 1 alex
PRINT 1 andrey
PRINT 1 sergey
PRINT 2 alex
```
**Вывод**
```
OK
OK
FAIL
alex andrey 
12:00 30 alex sergey
12:30 30 andrey alex
12:30 30 andrey alex
12:00 30 alex sergey
```

# Задача 3. Автодополнение

Аркадий реализовал интерактивную систему автодополнения, которая должна позволить ему быстрее набирать тексты университетских работ, в том числе и дипломной.

Система запоминает все слова, которые уже есть в тексте. Если Аркадий набирает очередное слово, введенная непустая часть которого совпадает с префиксом ровно одного из уже введенных слов, то после нажатия специальной комбинации клавиш введенную часть можно мгновенно дополнить имеющимся словом.

Например, Аркадий уже ввел слова дипломная работа и автодополнение в различных системах. Рассмотрим несколько вариантов очередного слова, которое ему нужно ввести:


диплом — после ввода первого символа система предложит принять автодополнение дипломная, но оно не подходит;

работа — после ввода первого и второго символа система не будет ничего предлагать, т.к. есть два различных слова в тексте, которые начинаются с текущего префикса, но после ввода третьего символа останется только одно слово (предложенное автодополнение следует принять);

различие — вновь вариант с автодополнением появится только после ввода третьего символа, но в этот раз принимать предложенный вариант не следует.

У Аркадия не работает клавиша удаления введенных символов, поэтому удалять символы из текста он не может.

Аркадий также решил, что не будет использовать автодополнение, если предлагаемое слово является началом набираемого, но не совпадает с ним целиком.

Помогите Аркадию определить, сколько раз он воспользуется функцией автодополнения, если хочет максимально уменьшить количество нажатий на клавиши клавиатуры, соответствующие буквенным символам.

**Формат ввода**

В первой строке входных данных записано одно целое число n (1 ≤ n ≤ 100 000) — количество слов, которые собирается набрать Аркадий. Во второй строке записаны n слов si (1 ≤ |si| ≤ 1000). Все слова в строке состоят только из строчных букв английского алфавита и разделены одиночными пробелами.

Суммарная длина всех слов не превосходит 1 000 000 символов.

**Формат вывода**

В единственной строке выведите одно целое число: количество нажатий буквенных клавиш на клавиатуре.

**Пример 1**

**Ввод**
```
3
hello world hello
```
**Вывод**
```
11
```
**Пример 2**

**Ввод**
```
5
an apple a big apple
```
**Вывод**
```
13
```
**Пример 3**

**Ввод**
```
5
aaaaa aaaab aaaaa abaaa abaaa
```
**Вывод**
```
22
```
# Задача 4. Тимбилдинг
Тимбилдинг — весёлое сплочающее мероприятие. Коллеги активно участвуют в конкурсах, квестах, вместе преодолевают игровые трудности. Подчас люди так увлекаются, что реорганизовать их для какой-то новой активности довольно сложно. Прямо сейчас ведущему нужно разбить всех коллег на две команды так, чтобы каждые два человека в одной команде хорошо знали друг друга — и это непростая задача.

Вам дан граф, в котором каждому человеку сопоставлена ровно одна вершина. Ребро (u, v) означает, что коллега u хорошо знает коллегу v (и в то же время коллега v хорошо знает коллегу u). Проверьте, можно ли разбить вершины графа на два множества требуемым образом, и, если это возможно, выведите любое подходящее разбиение.

**Формат ввода**

В первой строке даны два целых числа n и m (2 ≤ n ≤ 5000, 0 ≤ m ≤ 200000) — число вершин и число рёбер в графе.

В следующих m строках даны описания рёбер — пары целых чисел a b (1 ≤ a, b ≤ n, a ≠ b), означающих наличие ребра между вершинами a и b.

Гарантируется, что каждая пара вершин соединена не более чем одним ребром, и что никакая вершина не соединена с собой.

**Формат вывода**

Если разбить вершины требуемым образом нельзя, выведите -1.

Иначе в первой строке выведите число k (1 ≤ k < n) — количество вершин в одной из частей разбиения.

В следующей строке выведите k чисел — вершины из этой части разбиения.

В следующей строке выведите n — k чисел — вершины из второй части разбиения.

Каждая вершина должна принадлежать ровно одной из этих частей.

**Пример 1**

**Ввод**
```
3 1
1 2
```
**Вывод**
```
2
1 2 
3
```

**Пример 2**

**Ввод**
```
3 0
```
**Вывод**
```
-1
```
# Задача 5. Библиотека
Коля очень любит читать, и он ходил бы в библиотеку каждый день. К вечеру он остаётся довольным, только если прочитал ровно на одну книгу больше, чем вчера. Однако, к сожалению, библиотека не работает по субботам и воскресеньям. Поэтому Коля ходит в неё каждый рабочий день и берёт там за раз k книг — больше нельзя по правилам. Однако, Колю радует, что брать новые k книг можно, даже если ты не отдал какие-то книги из взятых ранее. Также Колю радует, что в его домашней библиотеке есть запас из m книг.

Вам известно, какой сегодня день недели. Коля недавно встал и задался целью прочитать сегодня ровно одну книгу. Насколько долго Коля может оставаться довольным, если будет ходить в библиотеку каждый раз, когда это возможно, начиная с сегодняшнего дня? Можно считать, что запас книг в библиотеке бесконечен.

**Формат ввода**

В первой строке входного файла даны три целых числа k, m, d — лимит на количество книг, которые можно взять в библиотеке в день, количество книг дома у Коли и сегодняшний день недели (1 ≤ k ≤ 109, 0 ≤ m ≤ 109, 1 ≤ d ≤ 7). Суббота и воскресенье обозначаются числами 6 и 7.

**Формат вывода**

Выведите одно число — максимальное количество дней в периоде, в течение которого Коля каждый день сможет читать столько книг, чтобы оставаться довольным.

**Пример 1.**

**Ввод**
```
4 2 5
```
**Вывод**
```
4
```
**Пример 2.**

**Ввод**
```
4 3 5
```
**Вывод**
```
5
```

# Задача 6. Мобилизация
В Яндексе снова стартует проект «Мобилизация»! Компания набирает на трёхмесячную подготовку n молодых людей, увлечённых мобильной разработкой. В начале проекта был проведён тест, где скилл участника i в разработке был оценен как ai, а скилл в управлении как bi.

На время проекта участников необходимо разделить на две равные по количеству участников команды — разработчиков и менеджеров. Планируется сделать это таким образом, чтобы максимизировать суммарную пользу, приносимую всеми участниками. Если участнику достанется роль разработчика, его польза будет равняться ai, в противном случае — bi.

Но даже занятые проектом, участники находят время для получения новых знаний! Иногда участники приносят сертификаты о прохождении курсов, где сказано, что скилл участника i в разработке или же в управлении увеличился на di. В таком случае может быть выгодно переформировать команды для максимизации суммарной пользы (равные размеры команд необходимо сохранить).

Ваша задача помочь Яндексу и после рассмотрения каждого нового принесённого участником сертификата посчитать текущую суммарную пользу команд.

**Формат ввода**

В первой строке входного файла дано число n (2 ≤ n ≤ 2 ⋅ 105, n — чётное) — количество участников проекта. Вторая строка задаёт n целых чисел ai (0 ≤ ai ≤ 109) — скилл каждого из участников в разработке. Следующая строка в том же формате задаёт скилл участников в управлении bi (0 ≤ bi ≤ 109).

Следующая строка содержит целое число m (1 ≤ m ≤ 105) — количество принесённых участниками сертификатов. Каждая из следующих m строк содержит три целых числа numi, typei, di (1 ≤ numi ≤ n, 1 ≤ typei ≤ 2, 1 ≤ di ≤ 104) — номер участника, тип увеличиваемого скилла (1 — разработка, 2 — управление) и значение увеличения соответствующего навыка.

**Формат вывода**

После обработки каждого запроса на поступление нового сертификата выведите текущую суммарную пользу всех участников.

**Пример 1.**

**Ввод**
```
4
7 15 3 4
10 10 0 6
3
1 1 4
4 1 6
2 2 10
```
**Вывод**
```
34
35
43
```

